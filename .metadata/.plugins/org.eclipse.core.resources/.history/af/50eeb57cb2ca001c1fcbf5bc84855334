package service;

import java.io.IOException;
import java.io.UnsupportedEncodingException;
import java.net.HttpURLConnection;
import java.net.MalformedURLException;
import java.net.URL;
import java.net.URLEncoder;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class SearchService {
	public void execute(HttpServletRequest request, HttpServletResponse response) throws IOException{
		
		//요청 parameter
		String query = request.getParameter("query");
		String display = request.getParameter("display");
		String sort = request.getParameter("sort");
		
		
		//검색어 인코딩 UTF-8
		try {
			query = URLEncoder.encode(query, "UTF-8");
		}catch(UnsupportedEncodingException e) {
			//검색어 인코딩 실패
		}
		
		//API접속
		String apiURL = "https://openapi.naver.com/v1/search/sho.json";
		URL url = null;
		HttpURLConnection con = null;
		try {
			url = new URL(apiURL);
			con = (HttpURLConnection)url.openConnection();
		}catch(MalformedURLException e) {
			//잘못된 형식의 apiURL
		}
	}
}
